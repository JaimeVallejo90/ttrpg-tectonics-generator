<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Plate Tectonics Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <div class="title-block">
          <div class="eyebrow">Tabletop worldbuilding toolkit</div>
          <h1>Plate Tectonics Generator</h1>
          <p>
            Build an A4 point cloud, sketch plates, and layer crust, directions,
            arrows, continents, and volcanoes in a clear step order.
          </p>
        </div>
        <div class="header-card">
          <div class="card-title">Quick tips</div>
          <ul class="tip-list">
            <li>In Paint Boundaries, right click deletes in Boundary mode, resets in other modes.</li>
            <li>Delete removes the selected marker or craton.</li>
            <li>Drag cratons to move, right-drag to rotate.</li>
          </ul>
        </div>
      </header>

      <main class="app-main">
        <section class="panel workspace-panel" id="grid-step">
          <div class="workspace-header">
            <div>
              <div class="section-kicker">Board</div>
            </div>
          </div>

          <div class="workspace-meta">
            <div class="status-notes">
              <div id="message" class="message status-message" aria-live="polite"></div>
            </div>
          </div>

          <section class="board-wrap">
            <div class="board-shell">
              <div class="board-stack">
                <svg id="board" role="img" aria-label="A4 grid"></svg>
                <canvas
                  id="continent-canvas"
                  class="board-overlay"
                  width="297"
                  height="210"
                  aria-label="A4 continent overlay"
                ></canvas>
                <svg
                  id="marker-layer"
                  class="marker-overlay"
                  role="img"
                  aria-label="A4 markers overlay"
                ></svg>
              </div>
            </div>
          </section>
        </section>

        <aside class="panel control-panel">
          <div class="panel-block">
            <div class="panel-title">History</div>
            <div class="button-grid">
              <button id="undo-btn" class="secondary">Undo</button>
              <button id="redo-btn" class="secondary">Redo</button>
            </div>
          </div>
          <div class="panel-block">
            <div class="panel-title">Step 1: Roll points</div>
            <div class="button-stack">
              <button id="roll-btn" class="primary">Roll a point (2d20)</button>
            </div>
            <div class="panel-hint">
              Rolls add seed points to the A4 grid. Corner buttons toggle the four
              corner points. Repeated coordinates thicken existing points.
            </div>
          </div>

          <div class="panel-block">
            <div class="panel-title">Steps 2-9: Tools</div>
            <div class="button-grid">
              <button id="pencil-btn" class="secondary wide-button" aria-pressed="false">Paint Boundaries</button>
              <button id="plate-id-btn" class="secondary" aria-pressed="false">Identify plates</button>
              <button id="crust-btn" class="secondary" aria-pressed="false">Roll crust</button>
              <button id="continent-btn" class="secondary" aria-pressed="false">Paint Cratons</button>
              <button id="direction-btn" class="secondary" aria-pressed="false">Roll directions</button>
              <button id="arrow-btn" class="secondary" aria-pressed="false">Paint arrows</button>
              <button id="divide-btn" class="secondary" aria-pressed="false">Paint Divides</button>
              <button id="volcano-btn" class="secondary" aria-pressed="false">Add volcanoes</button>
            </div>
            <div class="panel-hint">
              In Paint Boundaries, left click lines converts style. Right click deletes in
              Boundary mode and resets in other boundary modes.
            </div>
          </div>

          <div class="panel-block">
            <div class="panel-title">Clear layers</div>
            <div class="button-grid">
              <button id="clear-points-btn" class="ghost">Clear points</button>
              <button id="clear-arrows-btn" class="ghost">Clear arrows</button>
              <button id="clear-divides-btn" class="ghost">Clear divides</button>
              <button id="clear-crust-btn" class="ghost">Clear crust</button>
              <button id="clear-directions-btn" class="ghost">Clear directions</button>
              <button id="clear-plates-btn" class="ghost">Clear plate numbers</button>
              <button id="clear-continents-btn" class="ghost">Clear cratons</button>
              <button id="clear-volcanoes-btn" class="ghost">Clear volcanoes</button>
            </div>
          </div>

          <div class="panel-block">
            <div class="panel-title">Danger zone</div>
            <div class="button-stack">
              <button id="delete-continent-btn" class="ghost">Delete craton</button>
              <button id="clear-btn" class="danger">Restart</button>
            </div>
          </div>
        </aside>

        <aside id="auto-roll-panel" class="panel auto-roll-panel">
          <div class="panel-title">Auto Roll</div>
          <div class="panel-block">
            <div class="button-stack">
              <button id="roll-6-btn" class="secondary">Roll 30 points</button>
              <button id="roll-all-crusts-btn" class="secondary">Roll all crusts</button>
              <button id="roll-all-directions-btn" class="secondary">Roll all directions</button>
            </div>
            <div class="panel-hint">
              Detects plate centers from Paint Boundaries and rolls one marker per
              plate.
            </div>
          </div>
        </aside>

        <aside id="plate-mode-panel" class="panel plate-mode-panel" hidden>
          <div class="panel-title">Paint Boundaries</div>
          <div class="panel-block">
            <div class="panel-title">Boundary Style</div>
            <div class="button-stack">
              <button
                id="plate-boundary-btn"
                class="secondary"
                aria-pressed="true"
              >
                Boundary
              </button>
              <button
                id="plate-divergent-btn"
                class="secondary"
                aria-pressed="false"
              >
                Divergent
              </button>
              <button
                id="plate-convergent-btn"
                class="secondary"
                aria-pressed="false"
              >
                Convergent
              </button>
              <button
                id="plate-oblique-btn"
                class="secondary"
                aria-pressed="false"
              >
                Oblique
              </button>
            </div>
            <div class="panel-hint" id="plate-mode-hint">
              Boundary is the default mode.
            </div>
          </div>
        </aside>

        <aside id="surface-paint-panel" class="panel surface-paint-panel">
          <div class="panel-title">Surface Paint</div>
          <div class="panel-block">
            <div class="panel-title">Tools</div>
            <div class="button-stack">
              <button
                id="paint-continent-btn"
                class="secondary"
                aria-pressed="false"
              >
                Paint Continents
              </button>
            </div>
          </div>
          <div class="panel-block">
            <div class="panel-title">Brush Radius</div>
            <div class="slider-stack">
              <input
                id="surface-radius-slider"
                type="range"
                min="1"
                max="15"
                step="1"
                value="4"
              />
              <div class="slider-value">
                Radius: <span id="surface-radius-value">4</span>
              </div>
            </div>
            <div class="panel-hint">
              Left click paints. Right click is an eraser brush.
            </div>
          </div>
        </aside>
      </main>
    </div>
    <div id="edge-controls" class="edge-controls" aria-label="Board edge controls">
      <div class="edge-controls-side edge-controls-left">
        <button
          id="corner-tl-btn"
          class="corner-btn"
          type="button"
          aria-pressed="false"
        >
          1,1
        </button>
        <button
          id="wrap-left-btn"
          class="wrap-button secondary"
          type="button"
          aria-pressed="false"
          aria-label="Click to turn around on the left"
        >
          Click to turn around
        </button>
        <button
          id="corner-bl-btn"
          class="corner-btn"
          type="button"
          aria-pressed="false"
        >
          1,20
        </button>
      </div>
      <div class="edge-controls-side edge-controls-right">
        <button
          id="corner-tr-btn"
          class="corner-btn"
          type="button"
          aria-pressed="false"
        >
          20,1
        </button>
        <button
          id="wrap-right-btn"
          class="wrap-button secondary"
          type="button"
          aria-pressed="false"
          aria-label="Click to turn around on the right"
        >
          Click to turn around
        </button>
        <button
          id="corner-br-btn"
          class="corner-btn"
          type="button"
          aria-pressed="false"
        >
          20,20
        </button>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>

